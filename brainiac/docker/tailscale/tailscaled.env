# brainiac/docker/tailscale/tailscaled.env
#
# Tailscale Serve configuration â€” exposes internal brainiac services
# on your Tailscale tailnet under https://brainiac.<tailnet>.ts.net
#
# Reference: https://tailscale.com/kb/1242/tailscale-serve
#
# To apply this config, mount it into the Tailscale container and set:
#   TS_SERVE_CONFIG=/path/to/tailscaled.env
#
# The docker-compose.yml already handles this mount.

{
  "TCP": {
    "443": {
      "HTTPS": true
    }
  },
  "Web": {
    "${TS_CERT_DOMAIN}:443": {
      "Handlers": {
        "/research/": {
          "Proxy": "http://127.0.0.1:8100"
        },
        "/system/": {
          "Proxy": "http://127.0.0.1:8300"
        },
        "/voice/": {
          "Proxy": "http://127.0.0.1:8200"
        },
        "/ollama/": {
          "Proxy": "http://127.0.0.1:11434"
        }
      }
    }
  }
}
